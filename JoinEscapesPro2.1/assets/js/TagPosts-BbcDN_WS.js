import{j as e,s}from"./index-DV_CMWWu.js";import{d as a,r as t,L as l}from"./react-vendor-D69WjZO_.js";import{p as r}from"./tags-CLG0hMD2.js";import{S as i}from"./SEO-DfxcqcZX.js";import{v as n,d as c,j as m,l as o,a as d}from"./ui-vendor-CQDp9-dR.js";import"./supabase-C6BlnBHX.js";import"./utils-CHphCHSg.js";const x=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex space-x-1 mb-4",children:[...Array(3)].map((s,a)=>e.jsx("div",{className:"w-3 h-3 bg-primary-600 rounded-full animate-bounce",style:{animationDelay:.1*a+"s",animationDuration:"0.6s"}},a))}),e.jsx("p",{className:"text-gray-600 animate-pulse",children:"Sayfa yükleniyor..."})]})}),h=()=>{const{tagSlug:h}=a(),[u,g]=t.useState([]),[p,y]=t.useState(null),[j,b]=t.useState(!0),[f,v]=t.useState(null);t.useEffect(()=>{var e,a,t;e=null,a=null,t=function*(){if(h){b(!0),v(null);try{console.log("🏷️ Etiket yazıları getiriliyor:",h),console.log("🔍 Etiket aranıyor:",h);const{data:e,error:a}=yield r.getTagInfo(h);if(console.log("🏷️ Etiket sonucu:",{tagData:e,tagError:a}),a){console.error("❌ Etiket bilgisi alınamadı:",a);const{data:e}=yield s.from("tags").select("*");return console.log("📋 Mevcut etiketler:",null==e?void 0:e.map(e=>({name:e.name,slug:e.slug}))),v("Etiket bulunamadı"),void b(!1)}if(!e)return console.log("⚠️ Etiket verisi boş"),v("Etiket bulunamadı"),void b(!1);y(e),console.log("✅ Etiket bilgisi:",e);const{data:t,error:l}=yield r.getPostsByTagHighLimit(h,50);if(l)return console.error("❌ Etiketli yazılar alınamadı:",l),v("Yazılar yüklenemedi"),void b(!1);t&&t.length>0?(g(t),console.log(`✅ ${t.length} yazı bulundu`)):(console.log("⚠️ Bu etikete ait yazı bulunamadı"),g([]))}catch(e){console.error("❌ Etiket sayfası hatası:",e),v("Bir hata oluştu")}finally{b(!1)}}},new Promise((s,l)=>{var r=e=>{try{n(t.next(e))}catch(s){l(s)}},i=e=>{try{n(t.throw(e))}catch(s){l(s)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,i);n((t=t.apply(e,a)).next())})},[h]);const N=e=>{if(!e)return"";return new Date(e).toLocaleDateString("tr-TR",{day:"numeric",month:"short",year:"numeric"})};return j?e.jsx(x,{}):f?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏷️"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Etiket Bulunamadı"}),e.jsx("p",{className:"text-gray-600 mb-8",children:f}),e.jsx(l,{to:"/haberler",className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:"Haberlere Dön"})]})}):p?e.jsxs(e.Fragment,{children:[e.jsx(i,{title:`${p.name} Etiketli Yazılar - JoinEscapes`,description:`${p.name} etiketli seyahat ve turizm yazıları. En güncel ${p.name} içerikleri JoinEscapes'te.`,keywords:`${p.name}, seyahat, turizm, ${p.name} yazıları, JoinEscapes`,ogImage:p.image_url||"/images/default-og.webp",ogUrl:`https://www.joinescapes.com/etiket/${h}`}),e.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"flex items-center space-x-4 mb-6",children:e.jsxs(l,{to:"/haberler",className:"flex items-center text-gray-600 hover:text-primary-600 transition-colors",children:[e.jsx(n,{className:"h-4 w-4 mr-2"}),"Haberlere Dön"]})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center space-x-2 mb-4",children:e.jsx("span",{className:"px-4 py-2 text-sm font-medium text-white rounded-full",style:{backgroundColor:p.color||"#3B82F6"},children:p.name})}),e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:[p.name," Etiketli Yazılar"]}),e.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:[u.length," yazı bulundu"]})]})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:u.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(s=>e.jsxs("article",{className:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.featured_image_url||"https://images.unsplash.com/photo-1469474968028-56623f02e42e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:s.title,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"px-3 py-1 text-sm font-medium text-white rounded-full",style:{backgroundColor:s.category_color||"#3B82F6"},children:s.category_name})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(c,{className:"h-4 w-4"}),e.jsx("span",{children:N(s.published_at||s.created_at)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(m,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.views||0," görüntülenme"]})]})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2",children:s.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:s.excerpt}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(o,{className:"h-4 w-4"}),e.jsx("span",{children:s.author_name})]}),e.jsxs(l,{to:`/${s.category_slug}/${s.slug}`,className:"flex items-center text-primary-600 hover:text-primary-700 font-medium transition-colors",children:["Devamını Oku",e.jsx(d,{className:"h-4 w-4 ml-1"})]})]})]})]},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📝"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Henüz yazı yok"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Bu etikete ait henüz yazı bulunmuyor. Daha sonra tekrar kontrol edin."}),e.jsx(l,{to:"/haberler",className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:"Tüm Haberleri Gör"})]})})]})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏷️"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Etiket Bulunamadı"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Aradığınız etiket mevcut değil"}),e.jsx(l,{to:"/haberler",className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:"Haberlere Dön"})]})})};export{h as default};
